<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>Rock Paper Scissor</p>
    <button onclick="
    score.wins=0;
    score.losses=0;
    score.ties=0;
    localStorage.removeItem('score');
    ">Resest score</button>
    <button onclick="
    playgame('Rock');
    ">Rock
    </button>
    <button  onclick="
    playgame('Paper') 
    ">Paper
    </button>
    <button  onclick="
        playgame('Scissor');
    ">Scissor</button>


    <script>
        let score=JSON.parse(localStorage.getItem('score'));
        if(score===null){
            score={
                wins:0,
                losses:0,
                ties:0
            };
        }
        
        function playgame(playermove){
            const computermove=pickComputerMove();
   
            let result='';
        if(playermove==='Scissor'){
            if(computermove=='Rock'){
                result='lose';
                
            }
            else if(computermove=='Paper'){
                result='win';
            }
            else if(computermove=='Scissor'){
                result='tie';
            }
        }
        
        else if(playermove==='Paper'){
            if(computermove=='Rock'){
            result='win';
        
            }
            else if(computermove=='Paper'){
            result='tie';
            }
            else if(computermove=='Scissor'){
            result='lose';
            }
        }
        
        else if(playermove==='Rock'){
            if(computermove=='Rock'){
            result='tie';
                
            }
            else if(computermove=='Paper'){
                result='lose';
            }
            else if(computermove=='Scissor'){
                result='win';
            }
        }
        if(result==='win'){
            score.wins++;
        }else if(result==='lose'){
            score.losses++;
        }else if(result==='tie'){
            score.ties++;
        }


        localStorage.setItem('score',JSON.stringify(score));
         alert(`You picked ${playermove} computer picked ${computermove}. ${result}
         wins :${score.wins},losses :${score.losses},ties :${score.ties}`);             
    
        }
        
        function pickComputerMove(){
            randomNumber=Math.random();
            let computermove='';

            if(randomNumber>0 && randomNumber <= (1/3)){
                computermove='Rock';
                
            }
            else if(randomNumber>1/3 && randomNumber<=2/3){
                computermove='Paper';
            ;
            }
            else{
                computermove='Scissor';
            }
            return computermove ;
        }
    </script>
</body>
</html>